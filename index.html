<!DOCTYPE html>
<html>
    <head>
        <script src="https://cdn.jsdelivr.net/npm/vega@5.22.1"></script>
        <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.2.0"></script>
        <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.20.8"></script>

        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
        <link rel="stylesheet" href="styles.css">

        <title>Internet Usage Worldwide Over The Years (1980 - 2020)</title>

    </head>
    <body>
        <header>
            <div class="container py-3 bg-white"></div>
        </header>
        <div class="container py-1">
            <h1>Internet Usage Worldwide Over The Years<br>(1980 - 2020)</h1>
        </div>
        <div class="container py-5 bg-white">
            <p>
                Introduction Text.<br>
                <br>
            </p>
            <h2>Internet Usage Worldwide In 2020</h2>
            <p>
                Let's first begin by looking at the percentage of people that have access to the Internet in the world by differentiating each country from each other.
                <br>
            </p>
            <h3>World Map Internet Usage In 2020</h3>
            <div id="vis"/>
                <script>
                    const spec = {
                    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
                    "width": "1065",
                    "height": "400",
                    "projection": {"type": "equalEarth", "rotate": [-150, 0, 0]},

                    "params" : [
                        {
                            "name" : "year",
                            "value" : 2020,
                            "bind" : {
                                "input" : "range",
                                "min" : 1980,
                                "max" : 2020,
                                "step" : 1
                            }
                        }
                    ],
                
                    "data": {
                                "url": "https://raw.githubusercontent.com/FIT3179/Vega-Lite/main/2_symbol_map/js/ne_110m_admin_0_countries.topojson",
                                "format": {
                                    "type": "topojson",
                                    "feature": "ne_110m_admin_0_countries"
                                }
                            },
                    "mark": {"type": "geoshape", "fill": "lightgrey", "stroke": "black"},

                    "transform": [
                                {
                                    "lookup":"properties.NAME",
                                    "from": {
                                        "data": {
                                            "url": "https://raw.githubusercontent.com/The99thCourier/fit3179_visualisation_2/main/data/Final.json"
                                        },
                                        "key": "Entity",
                                        "fields": ["Internet_Users", "Year"]
                                    }
                                },
                                {"filter": "datum.Year == year"}
                            ],
                    "mark": { "type": "geoshape", "stroke": "black"},
                    "encoding": {
                        "color": {
                            "field": "Internet_Users",
                            "type": "quantitative",
                            "scale": {
                                "type": "linear"
                            },
                            "title": "Internet Users in Country (%)"
                        },
                        "tooltip": [
                            {"field": "properties.NAME", "type": "nominal", "title": "Country"},
                            {"field": "Internet_Users", "type": "quantitative"},
                            {"field": "Year", "type": "quantitative"},
                            {
                                "field": "Internet_Users",
                                "type": "quantitative",
                                "format": ".2f"
                            }
                        ]
                    },

                    "config": {}
                };
                    vegaEmbed("#vis", spec, {mode: "vega-lite"}).then(console.log).catch(console.warn);
                </script>

                <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
        </div>

        <div class="container py-5 bg-white">
            <p>
                More Text
            </p><br>
            <h2>Broadband vs Cellular Subscriptions</h2>
            <p>
                Where previous map above shows the percentage of people with Internet Access throughout the world, The graph below shows the distribution of the countries and their years in terms of three properties:
                <br><br>
                - Internet Access Percentage<br>
                - How many people get access to Broadband and Cellular Subscriptions per 100 people
                <br><br>
                Notice that there are many countries in many years that have more than 100 cellular subscriptions per 100 people. Most likely this is because there are people that are subscribed to multiple cellular subscriptions on different devices. This could mean a lot of people have multiple phones, or they have a phone with more than 1 subscription, such as a domestic and an international one to allow contact with people both interstate and overseas.
                <br><br>
                The graph can be zoomed in by creating intervals with the bar down below. Points are considerable congested in the bottom left corner, and this is notably for third-world countries that lack proper internet access.
                <br>
            </p>
        </div>

        <h3>Dot Plot of Broadband vs Cellular Subscriptions</h3>
        <div id="vis3"/>
        <script>
            const spec3 = {
                "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
                "data": {"url": "https://raw.githubusercontent.com/The99thCourier/fit3179_visualisation_2/main/data/Final.json"},
                
                "vconcat": [
                    {   
                        "width": 1020,
                        "height": 400,

                        "mark": "circle",
                        "encoding": {
                            "x": {"field": "Broadband_Subscription",
                            "type":"quantitative",
                            "scale": {"domain": {"param": "time_brush"}},
                            "axis": {"title": "Boardband Subscriptions (per 100 people)"}},
                            "y": {
                                "field": "Cellular_Subscription",
                                "type": "quantitative",
                                "axis": {"title": "Mobile Subscriptions (per 100 people)"}},
                            "color": {"field": "Internet_Users", "type": "quantitative", "title": "Internet Users in Country (%)"},
                            "tooltip": [
                                {"field": "Entity", "type": "nominal", "title": "Country"},
                                {"field": "Internet_Users", "type": "quantitative"},
                                {"field": "Broadband_Subscription", "type":"quantitative"},
                                {"field": "Cellular_Subscription", "type": "quantitative"},
                                {"field": "Year", "type": "quantitative"},
                                {
                                    "field": "Internet_Users",
                                    "type": "quantitative",
                                    "format": ".2f"
                                }
                            ]
                        },

                        "config": {}
                    },
                    {
                        "width": 1020,
                        "height": 50,
                        "mark": "circle",
                        "params" : [
                            {
                                "name" : "time_brush",
                                "select": {"type": "interval", "encodings": ["x"]}
                            }
                        ],
                        "encoding": {
                            "x": {"field": "Broadband_Subscription", "type":"quantitative", "axis": {"title": ""}},
                            "y": {"field": "Cellular_Subscription", "type": "quantitative", "axis": {"title": ""}}
                        },

                        "config": {}
                    }
            ]
                
            };

            vegaEmbed("#vis3", spec3, {mode: "vega-lite"}).then(console.log).catch(console.warn);
        </script>
            
        </body>
</html>
</html>